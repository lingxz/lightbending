# Code for masters thesis

## Data generation

Run one of these files to generate data:

- `curved.py`: for fixed z_lens, fixed M, varying hole size rh, varying Lambda(graph 5)
- `curved_const_rh.py`: for fixed z_lens, fixed hole size rh, varying M, varying Lambda (graph 8)

These two above are the most well written code, I tried to clean them up and add explanations. 

The ones below are more messy, I didn't bother cleaning them up, but they were used for generating other things:

- `calc_errors.py`: used for generating the errors graph (fig 6)
- `ltb.py`: used for generating LTB graphs (things in Appendix A)

Modify `main()` for parameters (such as number of datapoints, output filename, etc, as necessary. Flat space is used as default. Change values of `om_k` in `main()` to generate data for curved space. 

TODO: Some functions should be refactored out...

## Analysis and generating plots

`utils.py` has some miscellaneous functions used for plotting.

`produce_plot.ipynb` shows how to use the data generated by the various files. It generates the plots that are used in, again it has minimal customizability so to change anything please modify `utils.py` and reload. 

`ltb_plots.ipynb` shows how to use the output of `ltb.py` (`data/ltb.csv`) to generate the LTB plot in Appendix A. 

Graphs for the mass, density, pressure of LTB are generated with `ltb_graph()` function in `utils.py` (see last part of `produce_plot.ipynb`). 

## Others

- `half_analytical.py` shows an example of how to calculate intersection analytically for flat space as described in Section 3.3.1 (FRW region) in report, just look at the propagation in FRW at the start, everything else is probably not up to date. 